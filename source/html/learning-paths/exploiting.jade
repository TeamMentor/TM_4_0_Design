extends ../_layouts/page_home.jade

block content
	#application.lge-container
		.row
			.column-3.lge-container
				.div(data-spay="affix", data-offset-top="60", data-offset-bottom="200")
					h4.dark-green Exploiting Mechanisms
					ul.sidebar
						li Introduction
						li SQL Injection
						li SQL Injection Exploits
						li Three Dangerous Vulnerabilities
					h4.grey Testing
					h4.grey Prevention
					h4.grey Advanced
					h4.grey Related Topics
					br
					br
					br
					br
					br
					.progress
						.progress-bar(role='progressbar', aria-valuenow='10', aria-valuemin='0', aria-valuemax='100', style='width: 10%')
			.column-6
				h2.grey Exploiting Mechanisms

				p How to test for SQL Injection. General testing  methods and the details of Fuzz Testing.

				br
				hr
				br

				h3.dark-grey Introduction

				img.center.img-responsive(src='/deploy/assets/videos/Video1.jpg')
				br

				br
				hr
				br

				h3.dark-grey SQL Injection

				#details.row
					.column-3
						h4.green Applies to:
					.column-9
						ul
							li Any application that interacts with a SQL database.
				br

				p.lge-container A SQL injection attack exploits vulnerabilities in input validation to run arbitrary commands in the database. It can occur when your application uses input to construct dynamic SQL statements to access the database. It can also occur if your code uses stored procedures that are passed strings that contain raw user input. Using the SQL injection attack, an attacker can execute arbitrary commands in your database, with all the privileges granted to the process being attacked. The issue is magnified if the application uses an over-privileged account to connect to the database. In this instance it is possible to use the database server to run operating system commands and potentially compromise other servers, in addition to being able to retrieve, manipulate, and destroy data. 

				br
				h4.dark-grey Impact

				.lge-container
					h5.dark-grey Confidentiality
					p Since SQL databases generally hold sensitive data, loss of confidentiality is a frequent problem with SQL injection vulnerabilities.

					h5.dark-grey Authentication
					p If poor SQL commands are used to check user names and passwords, it may be possible to connect to a system as another user with no previous knowledge of the password.

					h5.dark-grey Authorization
					p If authorization information is held in an SQL database, it may be possible to change this information through the successful exploitation of an SQL injection vulnerability.

					h5.dark-grey Integrity
					p Just as it may be possible to read sensitive information, it is also possible to make changes or even delete this information with an SQL injection attack.
					
					br
					p The capabilities of an attacker are constrained by the permissions of the account you use to connect to the database. For this reason, your application should connect to the database with an account that has the minimum necessary set of privileges.

				br
				h4.dark-grey Vulnerabilities

				p 
					ul
						li Weak input validation.
						li Dynamic construction of SQL statements without the use of type-safe parameters.
						li Use of over-privileged database logins.

				br
				h4.dark-grey Countermeasures

				.lge-container
					h5.dark-grey Constrain input
					p Use vigorous white-list style checking and type checking on any user input that may be used in an SQL command. Rather than escape meta-characters, it is safest to avoid adding them to your white-list. Later use of data that has been entered in the database may neglect to escape meta-characters before use.

					h5.dark-grey Use Parameterized SQL statements and stored procedures
					p Parameterized SQL statements will process characters that have special meaning to SQL (like single quote) without negative security implications.

					h5.dark-grey Use escaping routines
					p If you cannot use parameters and must use dynamic SQL, use escaping routines to handle special characters that have meaning to the database.

					h5.dark-grey Use an account with limited permissions in the database.
					p Ideally the account should only have execute permissions on the set of stored procedures that your application needs to use. It should have no direct table access. 

					h5.dark-grey Do not echo database errors.
					p Catch exceptions on the server and return generic error messages to the client.

				br
				h4.dark-grey Example

				.lge-container
					p While it is easier and more reliable to fix SQL injection by parameterization, it can be fixed without it. Suppose we have a PHP/MySQL application that has two tables: users and products. Each row in the USER table contains the users ID, name, password, credit card number, and address. Similarly, the product table has a column for the product ID, description, and price. The application contains a SQL Query that retrieves the description of a product given its ID.

					p CODE HERE

					p So, if the value of $prod_id is 5 then $query reads:

					p CODE HERE

					p An attacker enters the following string where the application asks for the product ID (expecting a number):

					p CODE HERE

					p Now $query has the following value which is a perfectly legitimate SQL query:

					p CODE HERE

					p The query is executed and the product description is returned along with every row in the User table and the attacker has all of the confidential information from the database.

				br
				hr
				br

				h3.dark-grey SQL Injection Exploits

				img.center.img-responsive(src='/deploy/assets/videos/Video2.jpg')
				br

				br
				hr
				br

				h3.dark-grey Three Dangerous Vulnerabilities

				img.center.img-responsive(src='/deploy/assets/videos/Video3.jpg')

				br
				hr
				br

				.row
					.column-4
						a(href='sql-injection.html')
							button.btn-action.btn-submit.btn-block(type='button') Course Overview
					.column-offset-5.column-3
						a(href='testing.html')
							button.btn-action.btn-submit.btn-block(type='button') Testing
				br
				br